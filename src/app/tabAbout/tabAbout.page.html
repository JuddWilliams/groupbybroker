<ion-header>
  <ion-toolbar>
    <ion-title>How it works</ion-title>
  </ion-toolbar>
</ion-header>
<ion-content>
  <ion-card>
    <ion-grid>
      <ion-row>
        <ion-col id="column-x" size="12" size-md="8">
          <h4>Work together as a community to optimize efficiency</h4>
          <p>
            Mission Statement -
            <i
              >"Improve efficiency. For example, reducing travel and preparation time as both contractors and homeowners benefit
              from a cost-effective operation."</i
            >
          </p>
          <ion-grid>
            <ion-row>
              <ion-col id="col1" size="auto">
                <h5 style="margin-top: 3px">We answer these questions:</h5>

                <ul>
                  <li>What is the best way to find a contractor?</li>
                  <li>Can the contractors buy, sell, swap, cover, or partner in servicing accounts?</li>
                  <li>Who do my neighbors use?</li>
                  <li>Are there recommendations or ratings?</li>
                  <li>Level of service compared to price?</li>
                  <li>Referrals available?</li>
                  <li>Can i get a lower price?</li>
                  <li>Couldn’t these services benefit from better payment options?</li>
                  <li>What happens when provider temporarily unavailable due to injury, sickness, vacation, other?</li>
                  <li>Is there flexibility in scheduling?</li>
                </ul>
              </ion-col>
              <ion-col id="col2">
                <sup>Currently supported services: </sup> <br />
                <ion-chip>Yard care</ion-chip>
                <ion-chip color="primary">Pesticides</ion-chip>
                <ion-chip color="secondary">Weed & Feed</ion-chip>
                <ion-chip color="tertiary">Pool maintenance</ion-chip>
                <ion-chip color="primary">Maid services</ion-chip>
                <ion-chip color="success">Poop scooper</ion-chip>
              </ion-col>
            </ion-row>
          </ion-grid>

          <!-- 
                
                <p><ion-icon name="star-outline"></ion-icon> <i> Recognizing the cost savings when servicing an area.</i></p>               
              <p>
                <ion-icon name="star-outline"></ion-icon> 
                <i> Comparing services & incentives in the area   
                including <a title="Click for more information" (click)="openPopup()"> reviews</a>/<a title="Click for more information" (click)="openPopup()">user ratings</a>, and other factors. </i>
              </p> -->
        </ion-col>
        <ion-col id="column-y" size="12" size-md="4" style="padding-left: 30px">
          <h4>What it cost</h4>
          <p style="font-weight: bolder">
            <i
              ><!--{{locationNote}}-->
              *The service is free as we expand to new markets in your area.</i
            >
          </p>
          <div *ngIf="numberOfContractorsInArea >= numberOfContractorsInAreaThreshold">
            <p>Contractors may pay $35 annually to list all their accounts.</p>
            <p>...or pay $5 per account to list.</p>
          </div>

          <div>
            <!-- <ion-button size="small" fill="outline" (click)="test()">TEST</ion-button> -->
          </div>
        </ion-col>
      </ion-row>
      <ion-row>
        <!-- <ion-col size="12" size-md="4" >               -->
        <ion-col>
          <ion-card class="smaller-card">
            <ion-grid>
              <ion-row>
                <ion-col>
                  <div>∙ <b>Contractors</b> ∙</div>
                  <div>
                    <p>Grow your business while reducing costs associated with travel, preparation, and much more.</p>
                    <ion-button size="small" fill="outline" [routerLink]="['/tabs/tabSearch']"> Search </ion-button>
                    <ion-button
                      size="small"
                      fill="outline"
                      [routerLink]="['/login']"
                      [queryParams]="{ returnUrl: '/tabs/tabDashboard' }"
                    >
                      Join, it's free
                    </ion-button>
                    <ul>
                      <sup>Features</sup>
                      <li>
                        <i>Pre-bid</i> or offer <i>incentives</i> & <i>referrals</i> for jobs in close <u>proximity</u> to your
                        other jobs.
                        <ion-icon
                          name="help-circle-outline"
                          (click)="openPopup()"
                          title="Click for more information"
                          style="cursor: pointer"
                        ></ion-icon>
                      </li>
                      <li>
                        Buy, Sell, Trade/Barter for nearby accounts (B2B)
                        <ion-icon
                          name="help-circle-outline"
                          (click)="openPopup()"
                          title="Click for more information"
                          style="cursor: pointer"
                        ></ion-icon>
                      </li>
                      <li>
                        Coverage while on medical leave, vacation, other
                        <ion-icon
                          name="help-circle-outline"
                          (click)="openPopup()"
                          title="Click for more information"
                          style="cursor: pointer"
                        ></ion-icon>
                      </li>
                      <li>
                        Facilitate referral program
                        <ion-icon
                          name="help-circle-outline"
                          (click)="openPopup()"
                          title="Click for more information"
                          style="cursor: pointer"
                        ></ion-icon>
                      </li>
                    </ul>
                  </div>
                </ion-col>
              </ion-row>
            </ion-grid>
          </ion-card>
        </ion-col>
        <ion-col size="12" size-md="4">
          <ion-card>
            <ion-grid>
              <ion-row>
                <ion-col>
                  <div>∙ <b>Home owners</b> ∙</div>
                  <p>
                    Find a contractor in your area motivated by these priniciples. Some of which may have already pre-bid your
                    location. Claim your home to view offers or 'Request a Bid' notifiying those contractors of your interest. Or
                    simply start by 'Searching' the area.
                  </p>
                  <p style="font-size: smaller">
                    Contractors understand they need your participation to be successful in selling, trading, or providing service
                    while on medical leave, vacation, or other. You'll have the opportunity to participate in the process of
                    finding a contractor that best fits your needs.
                  </p>
                  <!-- <p>
                          We all benefit from cost savings as contractors look to service accounts in close proximity.  
                          Customer satisfaction also improves as contractors work towards better reviews and higher user ratings.  
                          Many also offer referrals for your participation.
                        </p>             -->
                  <!-- <p>Or just post your job for hire.</p>          
                        <ion-button size="small" fill="outline" routerLink="/tabs/tabSearch">Search</ion-button> -->
                  <ion-button size="small" fill="outline" [routerLink]="['/tabs/tabSearch']"> Search </ion-button>
                  <ion-button
                    size="small"
                    fill="outline"
                    [routerLink]="['/login']"
                    [queryParams]="{ returnUrl: '/tabs/tabDashboard' }"
                  >
                    Request Bids
                  </ion-button>
                  <!-- <ion-img src="assets/mapEg.gif"></ion-img>           -->
                </ion-col>
              </ion-row>
            </ion-grid>
          </ion-card>
        </ion-col>
        <ion-col size="12" size-md="4">
          <ion-card id="WhyUse">
            <ion-grid>
              <ion-row>
                <ion-col>
                  <div class="feedback-header">
                    <b>What are others saying?</b>
                    <ion-button fill="clear" (click)="openFeedbackPopup()">Leave Feedback</ion-button>
                  </div>
                  <div class="review-list">
                    <ion-item *ngFor="let review of reviews" lines="none">
                      <ion-avatar slot="start" class="review-avatar">
                        <div class="avatar-circle">{{ review.initials }}</div>
                      </ion-avatar>
                      <ion-label>
                        <h3>{{ review.name }}</h3>
                        <p>"{{ review.date }} - {{ review.feedback }}"</p>
                      </ion-label>
                    </ion-item>
                  </div>
                </ion-col>
              </ion-row>
            </ion-grid>
          </ion-card>
        </ion-col>
      </ion-row>
    </ion-grid>
  </ion-card>

  <!-- Popup Modal -->
  <ion-modal class="sizer-modal" [isOpen]="isPopupOpen" (ionModalDidDismiss)="closePopup()">
    <ng-template>
      <ion-header>
        <ion-toolbar>
          <ion-title>Information</ion-title>
          <ion-buttons slot="end">
            <ion-button (click)="closePopup()">Close</ion-button>
          </ion-buttons>
        </ion-toolbar>
      </ion-header>
      <ion-content>
        <p style="padding: 16px">This is how it works!</p>
      </ion-content>
    </ng-template>
  </ion-modal>

  <!-- Feedback Modal -->
  <ion-modal [isOpen]="isFeedbackPopupOpen" (ionModalDidDismiss)="closeFeedbackPopup()">
    <ng-template>
      <ion-header>
        <ion-toolbar>
          <ion-title>GroupBuyology</ion-title>
          <!-- Custom title -->
          <ion-buttons slot="end">
            <ion-button (click)="closeFeedbackPopup()">Close</ion-button>
          </ion-buttons>
        </ion-toolbar>
      </ion-header>
      <ion-content>
        <div style="padding: 16px">
          <ion-item>
            <ion-label position="floating">Your Feedback</ion-label>
            <ion-textarea
              [(ngModel)]="newFeedback"
              rows="4"
              placeholder="Write your feedback here..."
              class="feedback-textarea"
            ></ion-textarea>
          </ion-item>
          <ion-button expand="block" (click)="submitFeedback()">Submit</ion-button>
        </div>
      </ion-content>
    </ng-template>
  </ion-modal>
</ion-content>
