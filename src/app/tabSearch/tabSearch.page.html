<ion-header>
  <ion-toolbar>
    <ion-title>Search</ion-title>
  </ion-toolbar>
</ion-header>
<ion-content>
  <ion-card>    
      <ion-grid>
        <ion-row>
          <ion-col size-md="3" size-lg="1">
            <ion-input label="Lookup range (miles)" label-placement="floating" #findRadiusInput [(ngModel)]="findRadius" (ngModelChange)="onRadiusChange()" (ionFocus)="selectText()" placeholder="Enter Range"></ion-input>          
          </ion-col>   
          <ion-col size-md="3" size-lg="3">      
            <ion-select label="Industry? " label-placement="floating">
              <ion-select-option value="Lawn care">Landscaping & Lawn care</ion-select-option>
              <ion-select-option value="Pesticides">Pesticides</ion-select-option>
              <ion-select-option value="Weed & Feed">Weed & Feed</ion-select-option>
              <ion-select-option value="Pool maintenance">Pool maintenance</ion-select-option>  
              <ion-select-option value="Poop scoop">Poop scoop</ion-select-option>
            </ion-select>        
            <!-- other options
            <ion-select label="What are you intested in? " label-placement="floating">
              <ion-select-option value="apple">Find a service provider</ion-select-option>
              <ion-select-option value="banana">Buy, sell, or trade</ion-select-option>
              <ion-select-option value="orange">Rate another</ion-select-option>
            </ion-select>                  -->
           </ion-col>            
        </ion-row>
        <ion-row>
          <ion-col size="12" >
             Address(s) Within <b>{{ findRadius }}</b> Miles of <b>
              {{ targetAddress.street }}
              <span *ngIf="targetAddress.city">, {{ targetAddress.city }}</span>
              <span *ngIf="targetAddress.state">, {{ targetAddress.state }}</span>          
              <span *ngIf="!targetAddress.city && !targetAddress.state">, </span>    
              {{ targetAddress.postalCode }}
            </b> 
              <ion-button size="small" class="small-button" (click)="presentAlert()">change</ion-button>
              <ion-alert
              trigger="present-alert"
              header="Please enter address"
              [buttons]="alertButtons"
              [inputs]="alertInputs"
              ></ion-alert>
          </ion-col>
        </ion-row>
        <ion-row>      
          <ion-col size="12" size-md="8" size-lg="6">                  
            <div class="map-container">
              <google-map [options]="mapOptions">
                <map-marker *ngIf="targetLocation" [position]="targetLocation" label="Target"  ></map-marker>
                <map-marker *ngFor="let addressObj of withinRangeAddresses" label="{{addressObj.address.street}}" [position]="getLatLng(addressObj)" [icon]="rangeIcon"></map-marker>
              </google-map>
            </div>
          </ion-col>  
          <ion-col size="12" size-md="4" size-lg="6">            
            <ul>
              <li *ngFor="let addressObj of withinRangeAddresses">{{ addressObj.address.street }}, {{ addressObj.address.city }}, {{ addressObj.address.state }} {{ addressObj.address.postalCode }}</li>
            </ul>
          </ion-col>
        </ion-row>
      </ion-grid>
  </ion-card>
</ion-content>